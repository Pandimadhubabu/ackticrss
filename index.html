<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, width=device-width, user-scalable=no" />
    <script src="https://code.jquery.com/jquery-1.7.1.min.js"></script>
    <script src="feeds.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  </head>
<body>
<style>
	::-webkit-scrollbar { display: none; }
	.homepage { float: right; font-size: 16px; }

	html, body {

		height: 100%;
		width: 100%;
		overflow: hidden;
		background-color: #F6F5F0;

	}

	a, button {

		text-decoration: none;
		cursor: pointer;
		color: #000000;
		background-color: #F6F5F0;

	}

	button {

		border: none;
		padding: 4px 4px;
		text-align: center;
		text-decoration: none;
		font-size: 16px;
		width: 13.5%;

	}

	.output {

		font-family: Arial;
		font-size: 12px;
		position: fixed;
		line-height: 1.4em;
		width: 95%;
		top: 4.5em;
		bottom: 2em;
		overflow: auto;
		outline: none !important;
		scrollbar-width: none;
                background-color: transparent;

	}

	.bottom {

		position: fixed;
		font-size: 16px;
		bottom: -.2em;
		height: 1.5em;
		width: 95%;
		font-family: Arial;
		text-align: center;

	}

</style>
<script>

var proxy = "https://cors-anywhere.herokuapp.com/";

jQuery(function($) {

    $(window).load(function () {

	$("#Social").trigger("click");

	$(".output").attr('tabindex', -1).focus();

	$(".output").focusout(function(){ $(".output").attr('tabindex', -1).focus(); });

    });

    $(document).one('ready', function () {

	$(".menu").live("click", function(event) {

		$(".output").html("");

		$(".output").scrollTop();

		command = $(this).get(0).id;

		$.each(menu, function(key, feed) {

			if (command === feed.name) {

				getfeed(feed.feed, feed.homepage);

			}
		});

	});

    });

    $(".back").live("click", function(event) { $(".selected").trigger("click"); });

    $(".category").live("click", function(event) { 

	var value = $(this).attr("id");

	$(".category").removeClass("selected");

	$(this).addClass("selected");

	$("button").attr("style", "text-decoration: none");

	$(this).css("text-decoration", "underline");

	$(".output").html("");

	$(".output").scrollTop();

	$.each(menu, function(key, feed) {

		if (value == feed.category || value == "All" ) {

			$(".output").append("<br><a target='_blank' href='" + feed.feed +"'><img src='https://ackti.files.wordpress.com/2019/07/feed.png' height='12px' width='12px'></a>&ensp;&ensp;<a id='" + feed.category + "' class='category'><b>" + feed.category + "</b></a>&ensp;<a id='" + feed.name + "' class='menu'>" + feed.title + "</a><br>")

		}

	});

	$("button").mousedown(function() { $(this).attr("style", "background-color:#FE9801;"); });

	$(".bottom").html("<a class='random'>random</a>");

    });

    $(".random").live("click", function () {

	var array = [];

	$(".output").html("");

	$(".output").scrollTop();

	$.each(menu, function(key, index) { 

		if (index.category == $(".selected").attr("id") || $(".selected").attr("id") == "All") {

			array.push(menu[key].name);

		}

	});

	var feed = array[Math.floor(Math.random()*array.length)];

	$.each(menu, function(key, index) {

		if (index.name == feed) {

			getfeed(index.feed, index.title, index.homepage)

			return false;

		}

	});

    });

});

    function getfeed(feed, title, homepage) {

	$(".bottom").html("<a class='back' style='float:left;'><i class='fa fa-backward'></i></a><a class='random'>random</a><a class='homepage' style='right:0emm' target='_blank' href='" + homepage + "'><i class='fa fa-forward'></i></a>");

	$.get(proxy + feed, function (data) {

		var entry = $(data).find("entry");

		if (entry.length > 0) { var format = "entry" }

		else { var format = "item" }

	        $(data).find(format).each(function (index) {

			if (format == "entry") { var link = $(this).find("link").attr("href"); }

			else { var link = $(this).find("link").text(); }

			$(".output").append("<br>&ensp;<a target='_blank' href='" + link + "'>" + $(this).find("title").text() + "<br></a>");

   		});

	});

	$(".output").append("<br><a target='blank' href='" + homepage + "'>&ensp;" + title + "<br></a>");

    }

</script>
<button id="All" class="category"><i class="fa fa-pie-chart">&ensp;</i>all</button><button id="Local" class="category"><i class="fa fa-bookmark-o">&ensp;</i>loc</button><button id="Entertainment" class="category"><i class="fa fa-video-camera">&ensp;</i>ent</button><button id="Social" class="category"><i class="fa fa-linux">&ensp;</i>soc</button><button id="Sports" class="category"><i class="fa fa-futbol-o">&ensp;</i>sp</button><button id="Technology" class="category"><i class="fa fa-terminal">&ensp;</i>tech</button><button id="World" class="category"><i class="fa fa-globe">&ensp;</i>world</button>
<div class="output"></div>
<div class="bottom"></div>
</body>
</html>
