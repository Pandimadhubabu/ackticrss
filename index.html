<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0,user-scalable=no">
    <link rel="icon" type="image/png" href="https://ackti.files.wordpress.com/2019/11/favicon.png">
    <link href="https://fonts.googleapis.com/css?family=Roboto&display=swap" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-1.7.1.min.js"></script>
    <script src="https://acktic.github.io/rss.js"></script>
  </head>
<style>
@media only screen and (min-width: 960px) {

    body {
	transform: translate(50%,50%);
    	position: fixed;
	border: none;
	bottom: 50%;
	height: 90%;
	width: 70%;
	right: 50%;
    }

}
    ::-webkit-scrollbar {

	display: none;

    }
    .con {
	postion:absolute;
	height:99%;
	width:96%;
	top:-.5em;
    }
    div {
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
	font-family: 'Roboto', sans-serif;;
	font-size: 12px;
	cursor: default;
    }
    .con {
	position: absolute;
	height: 99%;
	width: 96%;
	top: -.5em;
    }
    .tag {
	justify-content: center;
	display: flex;
	height: 4.5em
    }
    .cat {
	background-color: inherit;
	display: inline-block;
	padding-bottom: 2em;
	text-align: center;
	padding-top: 1.8em;
	font-size: 14px;
	width: 16.3%;
    }
    .out {
	webkit-overflow-scrolling: touch;
	outline: none !important;
	position: absolute;
	overflow: auto;
	height: 90%;
	left: .3em;
    }
    .xml {
	background-color: inherit;
	padding-bottom: 2.2em;
	line-height: 1.5em;
	padding-top: 2em;
    }
    .fil {
	position: absolute;
	padding-left: 3em;
	padding-top: 3em;
	bottom: .1em;
	right: .3em;
    }
    .inv, .fav {
	transform: translateX(50%);
	position: absolute;
	bottom: -.7em;
	height: 32px;
	width: 32px;
	right: 50%;
    }
</style>
<body>
    <div class="con" style="position:absolute;height:99%;width:96%;top:-.5em;">
	<div class="tag" style="justify-content:center;display:flex;height:4.5em">
	<div id="News" class="cat" onclick="pop('News')">News</div>
	<div id="Style" class="cat" onclick="pop('Style')">Style</div>
	<div id="Social" class="cat" onclick="pop('Social')">Social</div>
	<div id="Sport" class="cat" onclick="pop('Sport')">Sport</div>
	<div id="Technology" class="cat" onclick="pop('Technology')">Tech</div>
	<div id="World" class="cat" onclick="pop('World')">World</div>
	</div>
	<img class="inv" src="https://ackti.files.wordpress.com/2019/11/invert.png">
	<img class="fav" src="https://ackti.files.wordpress.com/2019/11/favicon.png">
	<div class="fil">filter</div>
	<div class="out"><div>
    </div>
<script>
var bar = 2.5
var obj = []
var hap = []
var tap = false
var rss = false
var sel = 'Social'
var dark = true
var filter
    $(document).one('ready', function() {
	pop(sel)
	$('.out').css('top', $('.tag').height()+'px');
	if (location.href.match('\\?dark=0')) app(false)
	if (location.href.match('\\?dark=1')) app(true)
	if (location.href.match('\\&cat=News')) pop('News')
	if (location.href.match('\\&cat=Style')) pop('Style')
	if (location.href.match('\\&cat=Social')) pop('Social')
	if (location.href.match('\\&cat=Sport')) pop('Sport')
	if (location.href.match('\\&cat=Technology')) pop('Technology')
	if (location.href.match('\\&cat=World')) pop('World')
	if (location.href.match('\\&filter=')) fil()
	$(".out").attr('tabindex',-1).focus();
	$(".out").focusout(function(){$('.out').attr('tabindex',-1).focus()})
	$('.out').on('scroll',function(){
		if ($(this).scrollTop()+$(this).innerHeight() >= $(this)[0].scrollHeight){
			if (rss==false && filter==false) pop(sel)
			if (rss==false && filter!=false){ fil(); filter = true }
		}
		 if ($(this).scrollTop()<1) scr('.pop')})
	$('.inv,.fav').on('touchstart click', function(e){
		if (!tap){
			tap=setTimeout(function(){
				tap = null;
				pop(sel)
			},300)}
  		else {
			clearTimeout(tap);
			tap=null;
			ran(sel)
		}
	    e.preventDefault()
	})
	$('.fil').on('touchstart click', function(e){
		if (!tap){
			tap=setTimeout(function(){
				tap = null;
				fil()
			},300)}
  		else {
			clearTimeout(tap);
			tap=null;
			fil('random')
		}
	    e.preventDefault()
	})
    });
function url(n){ window.open(n) }
function xhr(n){ $.each(menu, function(i,k){ if(n==k.cli) get(k.ver,k.des,k.api,k.ext) }) }
function scr(n){ $('.out').animate({ scrollTop:$(n+':last').offset().top - $('.out').offset().top + $('.out').scrollTop()},300) }
function ran(n){ $.each(menu, function(i, k){ if(n==k.ver) obj.push(menu[i])}); var n=obj[Math.floor(Math.random()*obj.length)]; get(n.ver,n.des,n.api,n.ext) }
function app(n){
	if (n==true||n==false) dark=n
	if (n=="opp") dark=dark!=true
	if (dark==false){ $('body').css({'background-color':'transparent','color':'#000'}); $('.fav').css('display','none'); $('.inv').css('display','block') }
	else if (dark==true){ $('body').css({'background-color':'#000','color':'#FFF'}); $('.inv').css('display','none'); $('.fav').css('display','block') }
}
function pop(n){
	sel=n
	$(document).attr('title',n+' - ack')
	$('.pop, .bar').remove()
	$('.out').append("<div class='bar' style='position:relative;padding-top:"+$(".out").height()/100*bar+"em' onclick='app(\"opp\")'></div><div class='pop'></div>")
	scr('.pop')
	$.each(menu, function(i, k){ if(n == k.ver) $('.pop').append("<div id='"+k.cli+"' class='xml' onclick='xhr($(this).attr(\"id\"))'><b>"+k.ver+"</b> "+k.des+"</div>") })
	$('.out').append("<div class='bar' style='padding-bottom:"+$(".out").height()/100*bar+"em' onclick='app(\"opp\")'></div>")
	app()
	filter = false
}
function fil(r){
	rss = true
	filter = true	
	if (!location.href.match('\\&filter=')) return false
	if (r == "random") { var e=hap[Math.floor(Math.random()*hap.length)]; get(e.ver,e.des,e.api,e.ext); return false; }
	var n = location.search.split("&filter=")[1]
	n = n.split("+")
	$(document).attr('title',n[0]+' - ack')
	$('.pop, .bar').remove()
	$('.out').append("<div class='bar' style='relative;padding-top:"+$(".out").height()/100*bar+"em' onclick='app(\"opp\")'></div><div class='pop'></div>")
	$.each(n, function(i, k){
		$.each(menu, function(o, a){
			 if(a.des.toLowerCase().indexOf(k) > -1){
				hap.push(menu[o])
				$('.pop').append("<div id='"+a.cli+"' class='xml' onclick='xhr($(this).attr(\"id\"))'>"+a.des+"</div>")
			}
		 })
	})
	$('.out').append("<div class='bar' style='padding-bottom:"+$(".out").height()/100*bar+"em' onclick='app(\"opp\")'></div>")
	scr('.pop')
	app()
	rss = false

}
function get(ver,des,api,ext){ rss=true
	$('.bar:last').remove()
	$('.out').append("<div class='get'><div class='xml'>It's on the way! &ensp;Please be patient.</div></div>")
	scr('.get')
	$.get('https://salty-refuge-64158.herokuapp.com/'+api)
	.fail( function(){ $('.out').append("<div class='get'><div class='xml'><div class='xml'>&ensp;&ensp;Oops! Something went wrong!</div>")} )
	.success(function(data){
		var entry = $(data).find('entry')
		if (entry.length > 0) var mat="entry"
		else var mat = 'item'
		$('.out').append("<div class='get'><div class='xml' onclick='url(\""+ext+"\")'><b>"+ver+"</b>&ensp;"+des+"</div>")
		$(data).find(mat).each( function(i,k){
			if (mat=='entry') {
				var ref = $(this).find('link').attr('href')
				var utc = $(this).find('updated').text()
			}
			else {
				var ref = $(this).find('link').text();
				var utc = $(this).find('pubDate').text()
			}
			$('.out').append("<div class='xml' onclick='url(\""+ref+"\")'>&ensp;"+$(this).find("title").text()+"<br>-"+utc+"</div>");
			if (i >= 24) return false
		})
		rss=false
		$('.out').append("<div class='xml' onclick='url(\""+ext+"\")'><b>"+ver+"</b>&ensp;"+des+"</div><div class='bar' onclick='app(\"opp\")' style='padding-bottom:"+$(".out").height()/100*bar+"em'></div>")
		app()
		scr('.get')
	})
}
</script>
</body>
</html>
